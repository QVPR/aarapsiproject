# Python 3.12 Ubuntu 24.04.2 LTS
## Conda/Mamba Configuration
Install [Miniforge](https://docs.conda.io/projects/conda/en/stable/):
```
wget https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-x86_64.sh
```
```
chmod +x Miniforge3-Linux-x86_64.sh
```
```
./Miniforge3-Linux-x86_64.sh
```
You may need to do some config. I edited my .bashrc so that the autogenerated conda addition looks like this (noting this addition as-is will **not work** for you):
```
# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/home/owen/miniforge3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/home/owen/miniforge3/etc/profile.d/conda.sh" ]; then
        . "/home/owen/miniforge3/etc/profile.d/conda.sh"
    else
        export PATH="/home/owen/miniforge3/bin:$PATH"
    fi
fi
unset __conda_setup

# if [ -f "/home/owen/miniforge3/etc/profile.d/mamba.sh" ]; then
#     . "/home/owen/miniforge3/etc/profile.d/mamba.sh"
# fi
export MAMBA_ROOT_PREFIX="/home/owen/miniforge3/condabin"
# <<< conda initialize <<<
eval "$(mamba shell hook --shell bash)"
conda deactivate # because I like conda to be disabled by default - yes there is a config for this, but this avoids another issue which I won't go into detail on.
```
## Create ROS1 Conda Environment via Robostack
Follows instructions from [here](https://robostack.github.io/GettingStarted.html) for ROS1 Noetic (but I like to specify mine is a ros1 environment).
```
conda install mamba -c conda-forge
```
```
mamba create -n ros1env python=3.11
```
```
mamba activate ros1env
```
These two may throw errors - **that is okay**
```
conda config --env --add channels conda-forge
```
```
conda config --env --remove channels defaults
```
```
conda config --env --add channels robostack-noetic
```
```
mamba install ros-noetic-desktop
```
```
mamba deactivate
```
```
mamba activate ros1env
```
```
mamba install compilers cmake pkg-config make ninja colcon-common-extensions catkin_tools rosdep
```
```
mamba deactivate
```
# Create our AARAPSI working directory
```
cd ~; mkdir aarapsi; cd aarapsi
```
```
mamba activate ros1env
```
Clone required repositories:
```
git clone https://github.com/QVPR/pyaarapsi --branch v0.2.2
```
```
git clone https://github.com/QVPR/aarapsiproject
```
## Install LightGlue
This is not strictly necessary but helps install pyaarapsi cleanly. Ensure your ros1env is active and you're inside the ```aarapsi``` directory we made.
```
git clone https://github.com/cvg/LightGlue # 
```
```
cd LightGlue; pip install -r requirements.txt; pip install -e .; cd ..
```
# Install pyaarapsi python dependencies:
```
pip install setuptools ipython ipykernel scienceplots seaborn numpy==2.1 numba torch torchvision tqdm scipy Pillow scikit-learn natsort matplotlib opencv-python bokeh piexif pandas packaging pytorch-lightning pydot argparse pydbus lightglue fastdist flask requests pandas-stubs blosc2
```
# Install pyaarapsi:
Ensure your ros1env is active and you're inside the ```aarapsi``` directory we made.
```
pip install pyaarapsi/
```
# Configure data directories
Ensure your ros1env is active and you're inside the ```aarapsi``` directory we made.
```
mkdir data
```
In a python3 terminal:
```
from pathlib import Path
import pyaarapsi.vpr.config as config
config.make_config(data_path=Path('./data'), workspace_path_1=Path('./aarapsiproject'))
```
This will create a data directory structure like this:
```
data
├── cfg
│   └── svm_models
│       ├── fields
│       └── params
├── data
│   ├── compressed_sets
│   │   ├── filt
│   │   │   └── params
│   │   └── params
│   ├── image_libraries
│   ├── maps
│   ├── paths
│   ├── rosbags
│   ├── unprocessed_sets
│   │   ├── filt
│   │   │   └── params
│   │   └── params
│   └── videos
└── media
```
# Download data sets
Grab the contents of the ```compressed_sets``` folder (overwrite the empty one in ```data/data```) from [here](https://drive.google.com/drive/folders/1346i4FKIC8ej-eyE_RBHQUNUxjE2F3a3?usp=sharing)

# Conclusion
You should now be able to run the experiment script files *in theory*, however for everyone's individual machine configuration there is likely minor tweaks that will need to be made. If you face any issues please feel free to raise an issue on our GitHub [here](https://github.com/QVPR/aarapsiproject/issues). I've provided an export of all my conda installed packages (i.e. output of ```conda list```) in the file ```conda_list_output.txt```. With this exact configuration I was able to run these scripts on Ubuntu 24.04.2 LTS.